{% extends "layout.html" %}


{% block title %}
	<title>Harvard Reference Auto Builder - Input</title>
	<script>
		let errorNumber = {{ errorNumber }};
		
		if (errorNumber === 1) {
			alert("The URL You Inputted Could Not Be Found")
		}

	</script>
{% endblock %}

{% block container %}
	<div class="container__input">
		<form action="/" method="POST">
			<h2>Input a Link:</h2>
			<input id = "urlBox" 
				name = "urlBox" 
				type = "text" 
				placeholder = "URL"/>
			<input id = "submit" 
			class = "submit"
			name = "submit" 
			type = "submit" 
			disabled />
		</form>
		<script>
			document.querySelector("#urlBox").onkeyup = function() {
				if (document.querySelector("#urlBox").value === "") {
					document.querySelector("#submit").disabled = true;
				} else {
					document.querySelector("#submit").disabled = false;
				}
			}
		</script>
	</div>
	<div class="container__output">
		<hr class="solid">
		<h2>Here Is Your Generated Harvard Reference:</h2>
		<p id="harvardReference">{{ author }} ({{publicationYear}}). <i>{{ title }}</i>. Available: {{ url }}. Last accessed {{ currentDate}}</p>
	</div>
	<script>
		let output = {{ output }};

		if (output === 0) {
			outputContainer = document.querySelector(".container__output");
			outputContainer.style.display = "none";
		}
	</script>
{% endblock %}
